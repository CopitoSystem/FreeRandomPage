<!DOCTYPE HTML>
<html>
   <head>
      <title>Free Random</title>
      <meta charset="utf-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
      <link rel="stylesheet" href="assets/css/main.css" />
      <style> 
         @font-face {
         font-family: titulo_principal;
         src: url(assets/fonts/edo.ttf);
         }
         @font-face {
         font-family: subtitulo;
         src: url(assets/fonts/Risque-Regular.ttf);
         }
         @font-face {
         font-family: palabra_circulo;
         src: url(assets/fonts/Shojumaru-Regular.ttf);
         }
         @font-face {
         font-family: texto_comun;
         src: url(assets/fonts/Quantico-Regular.ttf);
         }
         #ovalo {
         width: 200px;
         height: 100px;
         background: #8AC007;
         border-radius: 100px/50px;
         }
      </style>
      <script type="text/javascript">
         userAction = async () => {
         	var myVar;
         	var tiempo;
          var tipo_letra=null;
          var tipo_palabra=null;
          var letra=null;
         
         if (document.getElementById("tl").checked){
         tipo_letra = document.getElementById("tl").value;
         letra = document.getElementById("l").value;
         }
         
         if (document.getElementById("tp").checked)
         tipo_palabra = document.getElementById("tp").value;
          
            const response = await fetch('//copitoSystem.pythonanywhere.com/palabra', {
              method: 'POST',
              body: JSON.stringify({
                tipo_letra: tipo_letra,
                letra: letra,
                tipo_palabra: tipo_palabra
              }),
              headers: {
                'Accept': 'application/json, text/plain, */*',
                'Content-Type': 'application/json'
              },
            });
          const myJson = await response.json(); //extract JSON from the http response
          console.log(myJson);
          document.getElementById('circulo').innerHTML = myJson.data.palabra;
         }
         
         function myStopFunction() {
         clearInterval(myVar);
         }
         
         function comenzar() {
         	tiempo = document.getElementById("tiempo").value;
         	myVar = setInterval(userAction, tiempo*1000);	
         	
         }
         
      </script>
   </head>
   <body class="homepage is-preload">
      <div id="page-wrapper">
         <!-- Header -->
         <div id="header">
            <!-- Inner -->
            <div class="inner">
               <header>
                  <h1><a href="index.html" style="font-family: titulo_principal" id="logo">Free Random!</a></h1>
                  <hr />
                  <p style="font-family: subtitulo">¡Empieza a generar palabras ya!</p>
               </header>
               <form>
                  <label style="font-family: texto_comun" for="tiempo">Tiempo [segundos]:<input type="number" id="tiempo" min="1" max="9999" value="5">
                  </label> 
                  <label style="font-family: texto_comun">
                  <input id="tp" type="radio" name="modo" value="true"><span style="font-weight:500;">Palabras al Azar</span>
                  </label>
                  <label style="font-family: texto_comun">
                  <input id="tl" type="radio" name="modo" value="true" style="margin-top: -5px;">Una Letra<input type="text" id="l" maxlength="1" value="">
                  </label>
               </form>
               <br>
               <div class="grupo-botones">
                  <button class="boton-iniciar" type="submit" onclick="comenzar()">Comenzar</button>
                  <button type="submit" class="boton-iniciar" onclick="myStopFunction()">Reiniciar</button>
               </div>
               <br>
               <footer>
                  <svg style="width: 80%;">
                     <rect id="box" x="0" y="0" width="100%" height="100%" fill="#df7366" rx="35" ry="35"/>
                     <text style="font-family: palabra_circulo; " x="50%" y="50%" text-anchor="middle"  color="black" dy=".3em" id="circulo">Comienza!</text>
                  </svg>
               </footer>
            </div>
            <!-- Nav -->
            <nav id="nav">
               <ul>
                  <li><a href="index.html">Inicio</a></li>
                  <li>
                     <a href="#">Menú</a>
                     <ul>
                        <li><a class="scrolly", href="#banner">Beats</a></li>
                        <li><a class="scrolly", href="#footer">Contacto</a></li>
                     </ul>
                  </li>
               </ul>
            </nav>
         </div>
         <!-- Banner -->
         <section id="banner">
            <header>
               <h2 style="font-family: titulo_principal">¡Acompaña tus improvisaciones con algunos beats!</h2>
               <p>Escucha los mejores beats e improvisa con mayor fluidez</p>
               <br>
               <iframe width="90%" height="450" scrolling="no" frameborder="no" allow="autoplay" src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/playlists/328185091&color=%23ff5500&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true"></iframe>
               <div style="font-size: 10px; color: #cccccc;line-break: anywhere;word-break: normal;overflow: hidden;white-space: nowrap;text-overflow: ellipsis; font-family: Interstate,Lucida Grande,Lucida Sans Unicode,Lucida Sans,Garuda,Verdana,Tahoma,sans-serif;font-weight: 100;"></div>
            </header>
         </section>
         <!-- Footer -->
         <div id="footer">
            <div class="container">
               <div class="row">
                  <div class="col-12">
                     <!-- Contact -->
                     <section class="contact">
                        <header>
                           <h3 style="font-family: titulo_principal">¿Querés contactarte con nosotros?</h3>
                        </header>
                        <p>¡Envianos un mail con sugerencias o un audio con tu improvisación para que otras personas puedan escucharte!</p>
                        <ul class="icons">
                           <li><a href="#" class="far fa-envelope"></a></li>
                        </ul>
                     </section>
                     <!-- Copyright -->
                     <div class="copyright">
                        <ul class="menu">
                           <li>&copy; Free Random. Todos los derechos reservados.</li>
                           <li>Diseño: <a href="http://">Francis</a></li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </div>
      <!-- Scripts -->
      <script src="assets/js/jquery.min.js"></script>
      <script src="assets/js/jquery.dropotron.min.js"></script>
      <script src="assets/js/jquery.scrolly.min.js"></script>
      <script src="assets/js/jquery.scrollex.min.js"></script>
      <script src="assets/js/browser.min.js"></script>
      <script src="assets/js/breakpoints.min.js"></script>
      <script src="assets/js/util.js"></script>
      <script src="assets/js/main.js"></script>
   </body>
</html>
